---
{"tags":["C-lang"],"dg-publish":true,"permalink":"/技術文件/C 語言學習/字符數組/","dgPassFrontmatter":true}
---


``` C
#include <stdio.h>

int main()
{
    /*
        C 語言裡面沒有 string 的型別，需要以 char array 的方式實現
        所有字符數組必須以 \0 作為結尾
        且字符串末尾的 \0 會佔一個 bytes，計算 length 需注意 n(字符串數量) + 1 
    */
    //字符數組必須以 \0 作為結尾
    char arr[] = {'a', 'b', 'c', 'd', '\0'};

    // 標準寫法
    char str1[] = {'h', 'e', 'l', 'l', 'o', 'w', '\0'};
    
    // 簡化 
    // length = string 數量(11) + '\0'(1) 的數量共 12 個
    char str2[12] = {"hello world"}; // 注意使用雙引號，非單引號

    // 進一步簡化
    char str3[] = {"hello world"};
    char str4[] = "hello world";

    size_t str_size = sizeof(str4) / sizeof(char);
    printf("%d\n", str_size); // 字符串長度 12
}
```

![Pasted image 20250826080229.png](/img/user/images/Pasted%20image%2020250826080229.png)

區分: '\0', 0, '0'
``` C
#include <stdio.h>
#include <string.h>

int main()
{
    // 區分: '\0', 0, '0'
    printf("%d\n", '\0' == 0); // true
    printf("%d\n", '0' == '\0'); // false
    printf("%d\n", '0' == 0); // false
}
```


單雙引號區別
如果用 "x" 宣告字符串變數，C 語言就會自動補 `\0`
如果用 'x' 宣告字符串變數，C 語言不會自動補 `\0`，但用 'x' 宣告的字符串可以進行`ASCII`加減法

```C
#include <stdio.h>
#include <string.h>

int main()
{
    char char1[] = "x"; // 常量，會自動補 \0 結束符
    char char2[] = {'x'}; // 字符，必須手動補 \0 結束符
    // "x" 與 'x' 字節佔用量
    printf("%d\n", (sizeof(char1) / sizeof(char))); // 2，含結束符 \0
    printf("%d\n", (sizeof(char2) / sizeof(char))); // 1，不含結束符 \0
}
```

char 字符 ASCII 運算
```C
#include <stdio.h>
#include <string.h>

int main()
{
    char char1[] = "x"; // 常量，會自動補 \0 結束符
    char char2[] = {'x'}; // 字符，必須手動補 \0 結束符
    // "x" 與 'x' 字節佔用量
    printf("%d\n", (sizeof(char1) / sizeof(char))); // 2，含結束符 \0
    printf("%d\n", (sizeof(char2) / sizeof(char))); // 1，不含結束符 \0

    // %c 用於輸出一個 char 字符
    printf("%c\n", 'x'+1); // char 運算，+1 後會變成 y
    printf("%c\n", 65); // 輸出 A, 因為(ASCII 65 = 'A')
    printf("%c\n", 'A'+1); // 輸出 B, 因為(ASCII 65 = 'A')+1 = (ASCII 66 = 'B')
}
```
